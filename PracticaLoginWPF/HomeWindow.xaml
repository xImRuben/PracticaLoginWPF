<Window x:Class="PracticaLoginWPF.HomeWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Nexus Library" 
        WindowStartupLocation="CenterScreen"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        ResizeMode="CanResize" MouseDown="Window_MouseDown"
        Icon="/Assets/logo.ico">

    <Viewbox Stretch="Fill">

        <Border Width="1200" Height="750" Background="{StaticResource BgDark}" CornerRadius="15" BorderBrush="#2A2A35" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid Grid.Row="0" Panel.ZIndex="100">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="250"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center" Margin="30,0">
                        <Image Source="/Assets/logo.ico" Width="35" Height="35" Margin="0,0,15,0"/>
                        <TextBlock Text="NEXUS" Foreground="White" FontWeight="Bold" FontSize="20" VerticalAlignment="Center"/>
                    </StackPanel>

                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                        <RadioButton x:Name="radLib" Content="Biblioteca" Click="Nav_Click" Tag="Lib" Foreground="White" FontSize="14" IsChecked="True" Margin="20,0" Background="Transparent" BorderThickness="0" Cursor="Hand"/>
                        <RadioButton x:Name="radStore" Content="Tienda" Click="Nav_Click" Tag="Store" Foreground="{StaticResource TextSecondary}" FontSize="14" Margin="20,0" Background="Transparent" BorderThickness="0" Cursor="Hand"/>
                        <RadioButton x:Name="radComm" Content="Comunidad" Click="Nav_Click" Tag="Comm" Foreground="{StaticResource TextSecondary}" FontSize="14" Margin="20,0" Background="Transparent" BorderThickness="0" Cursor="Hand"/>

                        <Button Content="ADMIN" Click="BtnAdmin_Click" 
                                Foreground="#FF5252" FontWeight="Bold" Background="Transparent" 
                                BorderThickness="1" BorderBrush="#FF5252" 
                                Margin="30,0,0,0" Padding="15,5" Cursor="Hand">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="15"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,30,0">
                        <Button Content="Cerrar Sesión" Click="BtnCerrarSesion_Click" Foreground="{StaticResource TextSecondary}" Background="Transparent" BorderThickness="0" Margin="0,0,20,0" Cursor="Hand"/>
                        <Border Width="1" Height="20" Background="#333" Margin="0,0,20,0"/>
                        <Button Content="—" Foreground="{StaticResource TextSecondary}" Background="Transparent" BorderThickness="0" Click="BtnMinimizar_Click" Width="30"/>
                        <Button Content="▢" Foreground="{StaticResource TextSecondary}" Background="Transparent" BorderThickness="0" Click="BtnMaximizar_Click" Width="30" FontSize="16"/>
                        <Button Content="✕" Foreground="{StaticResource TextSecondary}" Background="Transparent" BorderThickness="0" Click="BtnCerrarApp_Click" Width="30"/>
                    </StackPanel>
                </Grid>

                <Grid Grid.Row="1">

                    <ScrollViewer x:Name="GridLibrary" VerticalScrollBarVisibility="Hidden" Visibility="Visible">
                        <StackPanel Margin="30,10,30,30">
                            <Border Height="380" CornerRadius="12" Margin="0,0,0,40" Cursor="Hand" MouseLeftButtonDown="Juego_Click" Tag="Gears">
                                <Border.Background>
                                    <ImageBrush ImageSource="/Assets/gears.jpg" Stretch="UniformToFill" Opacity="0.9"/>
                                </Border.Background>
                                <Grid>
                                    <Border CornerRadius="12">
                                        <Border.Background>
                                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                <GradientStop Color="Transparent" Offset="0"/>
                                                <GradientStop Color="#0F0F13" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Border.Background>
                                    </Border>
                                    <StackPanel VerticalAlignment="Bottom" Margin="40">
                                        <Border Background="{StaticResource AccentColor}" HorizontalAlignment="Left" CornerRadius="4" Padding="8,4" Margin="0,0,0,15">
                                            <TextBlock Text="DESTACADO" Foreground="White" FontSize="10" FontWeight="Bold"/>
                                        </Border>
                                        <TextBlock Text="GEARS 5" Foreground="White" FontSize="50" FontWeight="Black"/>
                                        <Button Content="VER DETALLES" IsHitTestVisible="False" Width="180" Height="45" Background="White" Foreground="Black" FontWeight="Bold" BorderThickness="0" Margin="0,15,0,0"/>
                                    </StackPanel>
                                </Grid>
                            </Border>

                            <TextBlock Text="BIBLIOTECA LOCAL" Foreground="White" FontSize="16" FontWeight="Bold" Margin="0,0,0,20"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="20"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Border Grid.Column="0" Height="250" CornerRadius="10" Cursor="Hand" MouseLeftButtonDown="Juego_Click" Tag="Halo">
                                    <Border.Background>
                                        <ImageBrush ImageSource="/Assets/halo.jpg" Stretch="UniformToFill"/>
                                    </Border.Background>
                                    <Grid>
                                        <Border VerticalAlignment="Bottom" Height="80" CornerRadius="0,0,10,10" Background="#CC000000"/>
                                        <StackPanel VerticalAlignment="Bottom" Margin="15">
                                            <TextBlock Text="Halo Infinite" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border Grid.Column="2" Height="250" CornerRadius="10" Cursor="Hand" MouseLeftButtonDown="Juego_Click" Tag="Forza">
                                    <Border.Background>
                                        <ImageBrush ImageSource="/Assets/forza.jpg" Stretch="UniformToFill"/>
                                    </Border.Background>
                                    <Grid>
                                        <Border VerticalAlignment="Bottom" Height="80" CornerRadius="0,0,10,10" Background="#CC000000"/>
                                        <StackPanel VerticalAlignment="Bottom" Margin="15">
                                            <TextBlock Text="Forza Horizon 5" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                                <Border Grid.Column="4" Height="250" CornerRadius="10" Cursor="Hand" MouseLeftButtonDown="Juego_Click" Tag="Starfield">
                                    <Border.Background>
                                        <ImageBrush ImageSource="/Assets/starfield.jpg" Stretch="UniformToFill"/>
                                    </Border.Background>
                                    <Grid>
                                        <Border VerticalAlignment="Bottom" Height="80" CornerRadius="0,0,10,10" Background="#CC000000"/>
                                        <StackPanel VerticalAlignment="Bottom" Margin="15">
                                            <TextBlock Text="Starfield" Foreground="White" FontWeight="Bold" FontSize="16"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </Grid>
                            <Border Height="50"/>
                        </StackPanel>
                    </ScrollViewer>

                    <Grid x:Name="GridStore" Visibility="Collapsed" Background="Transparent">
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <TextBlock Text="TIENDA NEXUS" Foreground="{StaticResource AccentColor}" FontSize="40" FontWeight="Bold" HorizontalAlignment="Center"/>
                            <TextBlock Text="Próximamente: Ofertas de Verano" Foreground="#888" FontSize="20" HorizontalAlignment="Center" Margin="0,10"/>
                        </StackPanel>
                    </Grid>

                    <Grid x:Name="GridCommunity" Visibility="Collapsed" Background="Transparent">
                        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                            <TextBlock Text="COMUNIDAD" Foreground="#FF0055" FontSize="40" FontWeight="Bold" HorizontalAlignment="Center"/>
                            <TextBlock Text="Foros • Clanes • Chat Global" Foreground="#888" FontSize="20" HorizontalAlignment="Center" Margin="0,10"/>
                        </StackPanel>
                    </Grid>

                    <Grid x:Name="GridDetails" Visibility="Collapsed" Background="{StaticResource BgDark}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0">
                            <Border x:Name="ImgDetalle" Margin="20" CornerRadius="15">
                                <Border.Background>
                                    <ImageBrush x:Name="BrushDetalle" ImageSource="/Assets/gears.jpg" Stretch="UniformToFill"/>
                                </Border.Background>
                                <Border CornerRadius="15" Background="#55000000"/>
                            </Border>
                            <Button Content="← VOLVER A BIBLIOTECA" Click="BtnVolver_Click" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="40" Padding="15,10" Background="#99000000" Foreground="White" BorderThickness="0" Cursor="Hand" FontWeight="Bold"/>
                        </Grid>

                        <StackPanel Grid.Column="1" Margin="0,40,40,40">
                            <TextBlock x:Name="txtTitulo" Text="GEARS 5" Foreground="White" FontSize="40" FontWeight="Black" TextWrapping="Wrap"/>

                            <StackPanel Orientation="Horizontal" Margin="0,10,0,20">
                                <Border Background="#333" CornerRadius="4" Padding="8,4" Margin="0,0,10,0">
                                    <TextBlock x:Name="txtGenero" Text="ACCIÓN" Foreground="#AAA" FontSize="12" FontWeight="Bold"/>
                                </Border>
                                <Border Background="{StaticResource AccentColor}" CornerRadius="4" Padding="8,4">
                                    <TextBlock x:Name="txtPrecio" Text="39.99€" Foreground="White" FontSize="12" FontWeight="Bold"/>
                                </Border>
                            </StackPanel>

                            <TextBlock Text="SINOPSIS" Foreground="{StaticResource AccentColor}" FontWeight="Bold" Margin="0,0,0,5"/>
                            <TextBlock x:Name="txtDesc" Text="..." Foreground="#CCC" TextWrapping="Wrap" FontSize="14" LineHeight="22"/>

                            <StackPanel Margin="0,40,0,0">
                                <Button x:Name="btnAccion" Content="INSTALAR" Click="BtnAccion_Click" Height="60" Background="{StaticResource AccentColor}" Foreground="White" FontSize="18" FontWeight="Bold" BorderThickness="0" Cursor="Hand"/>

                                <Grid x:Name="PanelDescarga" Visibility="Collapsed" Margin="0,10,0,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,0,5">
                                        <TextBlock Text="Descargando..." Foreground="#AAA" FontSize="12" Margin="0,0,10,0"/>
                                        <TextBlock x:Name="txtPorcentaje" Text="0%" Foreground="{StaticResource AccentColor}" FontWeight="Bold" FontSize="12"/>
                                    </StackPanel>
                                    <ProgressBar x:Name="BarraProgreso" Grid.Row="1" Height="8" Minimum="0" Maximum="100" Value="0" Background="#333" BorderThickness="0" Foreground="{StaticResource AccentColor}"/>
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,30,0,0">
                                <TextBlock Text="Desarrollador: Xbox Game Studios" Foreground="#666"/>
                                <TextBlock Text="Espacio en disco: 80 GB" Foreground="#666" Margin="0,5,0,0"/>
                                <TextBlock Text="Valoración: ⭐⭐⭐⭐⭐" Foreground="#FFD700" Margin="0,5,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </Grid>

                </Grid>
            </Grid>
        </Border>
    </Viewbox>
</Window>